<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />

    <link type="text/css" rel="stylesheet" href="new_css/libs/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="new_css/libs/bootstrap-vue.min.css" />

    <!--Release-->
    <!--
        <script src="new_js/libs/vue.min.js"></script>
        <script src="new_js/libs/bootstrap-vue.min.js"></script>
        <script src="new_js/libs/axios.min.js"></script>
    -->

    <!--Debug-->
    <script src="new_js/libs/vue.js"></script>
    <script src="new_js/libs/bootstrap-vue.js"></script>
    <script src="new_js/libs/axios.js"></script>

    <script src="new_js/libs/vue-router.min.js"></script>
    <script src="new_js/libs/http-vue-loader.js"></script>

    <script src="js/custom/common.js"></script>
</head>

<body>
    <div id="app">
        <router-view />
    </div>

    <script src="new_js/router.js"></script>

<script>
var baseURL = "http://127.0.0.1:8080/";
var clientId = "web";
var clientSecret = "inventory";

Vue.prototype.$server = axios.create({
  baseURL: baseURL + "api"
});

const storage = {
  user: null
};

window.app = new Vue({
  router,
  el: "#app",
  data: {
    storage: storage
  },
  methods: {
    setToken(token) {
      axios.defaults.headers.common["Authorization"] = "Bearer " + token;
    },
    unsetToken() {
      delete axios.defaults.headers.common["Authorization"];
    },
    auth(login, password) {
      return axios.post(
        baseURL +
          "oauth/token?client_id=" +
          clientId +
          "&client_secret=" +
          clientSecret +
          "&grant_type=password&username=" +
          login +
          "&password=" +
          password
      );
    }
  }
});
</script>
</body>

</html>
